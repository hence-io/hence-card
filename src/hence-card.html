<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/juicy-html/juicy-html.html">

<dom-module id="hence-card">
  <style>
    :host {
      --image-background: '';
      background-image: var(--image-background);
    }

    /* IE 10 support for HTML5 hidden attr */
    [hidden] {
      display: none !important;
    }
  </style>
  <template>
    <header hidden$="[[!displayTopAvatar]]">
      <div id="avatarTopColumn">
        <img id="avatarTop" class="avatar" src$="{{avatar}}" alt="">
      </div>
      <div class="titles">
        <div id="titleTop" class="title">{{title}}</div>
        <div id="subtitleTop" class="subtitle">{{subtitle}}</div>
        <content select=".header-titles"></content>
      </div>
    </header>
    <section>
      <div id="imageTopContainer" hidden$="[[!displayTopImage]]">
        <img id="imageTop" class="image" src$="{{image}}" alt="">

        <div hidden$="[[avatar.length]]" id="titleCentered">
          <div class="title">{{title}}</div>
        </div>
      </div>
      <div id="avatarCenteredContainer" hidden$="[[!displayCenteredAvatar]]">
        <img id="avatarCentered" class="avatar" src$="{{avatar}}" alt="">
      </div>
      <div id="content">
        <div id="intro">
          <div class="titles" hidden$="[[displayTopAvatar]]">
            <div hidden$="[[!displayIntroTitle]]">
              <div id="titleContent" class="title">{{title}}</div>
            </div>
            <div>
              <div id="subtitleContent" class="subtitle">{{subtitle}}</div>
            </div>
          </div>
          <div id="optionsWrapper">
            <div hidden$="[[!options]]">
              <button id="toggleOptions" on-tap="eventToggleOptions"></button>
              <div id="options" class="closed">
                <template is="dom-repeat" items="{{options}}" as="opt">
                  <span class="link"><a on-tap="hook.opt">{{opt.label}}</a></span>
                </template>
              </div>
            </div>
          </div>
        </div>

        <div hidden$="[[!description]]" id="description"></div>
        <content></content>
      </div>
    </section>
    <footer hidden$="[[!callToAction]]">
      <div id="callToAction">
        <div hidden$="[[!callToAction.input]]">
          <label for="callToActionInput">{{callToAction.input.label}}</label>
          <input id="callToActionInput" type="{{callToAction.input.type}}"
                 value="{{callToAction.input.value::input}}"
                 placeholder="{{callToAction.input.placeholder}}">
        </div>
        <button on-tap="hook.callToAction">{{callToAction.label}}</button>
      </div>
    </footer>
  </template>
</dom-module>
